# if given, will override the device setting in gym. 
env: # 似乎是task的配置
  numEnvs: 4096
  envSpacing: 5
  episodeLength: 300
  isFlagrun: False
  enableDebugVis: False
  
  pdControl: True
  powerScale: 1.0 # 不知道是啥
  controlFrequencyInv: 2 # 30 Hz 在env step中每个rl action会执行2次物理模拟
  stateInit: "Default" # default是啥
  hybridInitProb: 0.5 # 不知道是啥
  numAMPObsSteps: 10 # amp obs buf 的大小
  numAMPEncObsSteps: 60 # 不知道是啥
  
  localRootObs: True
  keyBodies: ["right_hand", "left_hand", "right_foot", "left_foot", "sword", "shield"]
  contactBodies: ["right_foot", "left_foot"]
  terminationHeight: 0.15
  enableEarlyTermination: True

  movementType: walk # 控制agent的移动方式
  attackType: kick # 控制agent的攻击方式

  strikeBodyNames: ["sword", "right_hand", "right_lower_arm"]
  enableTaskObs: True # 是否使用target的观测
  
  asset:
    assetRoot: "calm/data/assets"
    assetFileName: "mjcf/amp_humanoid_sword_shield.xml"

  plane: # 地面的配置
    staticFriction: 1.0
    dynamicFriction: 1.0
    restitution: 0.0

sim: # 查看isaacgym的文档
  substeps: 2
  physx:
    num_threads: 4 # physx占用的cpu线程
    solver_type: 1  # 0: pgs, 1: tgs
    num_position_iterations: 4
    num_velocity_iterations: 0
    contact_offset: 0.02 # 距离小于两个物体的offset的合计值时，才会发生碰撞
    rest_offset: 0.0 # 距离等于两个物体的offset的合计值时，不再发生碰撞
    bounce_threshold_velocity: 0.2 # 相对速度低于此值的接触不会产生反弹
    max_depenetration_velocity: 10.0 # 和其他Mesh存在穿插时，物理引擎会在运行时尝试将其分开，这个速度值就是用户限定的分开时最大速度
    default_buffer_size_multiplier: 10.0 # 模拟器内部的缓冲区大小，agent越多，这个值越大

  flex:
    num_inner_iterations: 10
    warm_start: 0.25
